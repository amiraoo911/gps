<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Restricted Resource Access</title>
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<style>
body{
  font-family:Segoe UI,Arial,sans-serif;
  background:#f4f4f4;
  color:#1b2656;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}
.box{
  background:#fff;
  padding:30px;
  max-width:420px;
  border-radius:10px;
  border-left:6px solid #d99f53;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
  text-align:center;
}
button{
  margin-top:16px;
  background:#d99f53;
  border:none;
  padding:10px 18px;
  font-weight:700;
  border-radius:8px;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="box">
  <h2>Restricted Resource</h2>
  <p>Please verify to request access.</p>

  <form id="captchaForm">
    <div class="g-recaptcha" data-sitekey="6LeysDcsAAAAADhtAYgbju7hkLvhQB-gGbUj5-Nt"></div>
    <button type="submit">Continue</button>
  </form>
</div>

<script>
const params = new URLSearchParams(window.location.search);
const project = params.get("project");
const resource = params.get("resource");

document.getElementById("captchaForm").addEventListener("submit", e=>{
  e.preventDefault();
  const token = grecaptcha.getResponse();
  if(!token){
    alert("Please complete the CAPTCHA.");
    return;
  }

  // Google Form (prefilled)
  const formURL =
    "https://docs.google.com/forms/d/e/RGgpgaHaCTkicLM58/viewform" +
    "?entry.1111111111=" + encodeURIComponent(project) +
    "&entry.2222222222=" + encodeURIComponent(resource);

  window.location.href = formURL;
});
</script>

</body>
</html>
